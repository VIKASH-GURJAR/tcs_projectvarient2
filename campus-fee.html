<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fee Receipt</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <style>
    /* Custom scrollbar for the container to mimic mobile scroll */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="bg-[#e1e8eb] font-sans relative">
  <div id="mainPage" class="max-w-3xl mx-auto min-h-screen flex flex-col">
    <!-- Header -->
    <header class="flex items-center gap-4 bg-gradient-to-r from-[#f44336] to-[#f63f4f] px-4 py-3">
      <button aria-label="Back" class="text-white text-2xl leading-none">
        <i class="fas fa-chevron-left"></i>
      </button>
      <h1 class="text-white text-lg font-normal">Fee Receipt</h1>
    </header>

    <main class="flex-grow overflow-y-auto scrollbar-hide p-4 space-y-2">
      <!-- Receipt 1 -->
      <section class="bg-white rounded-md shadow-sm p-4 -mt-2 relative max-w-full mx-auto">
        <p class="text-gray-500 text-sm mb-1">Receipt Number</p>
        <p class="font-semibold text-gray-900 mb-3">PU/30-07-25/Online/67465</p>

        <p class="text-gray-500 text-sm mb-1">Site</p>
        <p class="font-semibold text-gray-900 mb-4">
          FCE-Faculty of Computer Science and Engineering
        </p>

        <div class="bg-[#f5f7f8] rounded-md flex text-center text-gray-600 text-sm font-normal">
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">2025-07-30</p>
            <p>Payment Date</p>
          </div>
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">Online</p>
            <p>Payment Mode</p>
          </div>
          <div class="flex-1 p-3">
            <p class="font-semibold text-[#f68b1e] text-base">56000.00</p>
            <p>Amount</p>
          </div>
        </div>

        <button
          type="button"
          class="mt-2 text-[#1d6ea7] text-sm font-normal flex items-center gap-1"
          aria-expanded="false"
        >
          More <i class="fas fa-chevron-down text-xs"></i>
        </button>

        <div class="pt-4 flex justify-end bg-[#EFF5F4] relative">
          <button
            type="button"
            class="text-[#4a6f85] font-semibold text-xs border border-[#a4cbd8] rounded-full px-4 py-2 hover:bg-[#eaf5fa] transition"
            onclick="togglePopup(this)"
          >
            Download
          </button>
          <!-- Popup -->
          <div
            class="absolute bg-white rounded-md shadow-md p-3 flex flex-col z-20 hidden min-w-[140px]"
            style="top:1rem; right:-0.25rem;"
          >
            <button
              type="button"
              class="text-gray-700 font-semibold text-sm rounded-t-full px-5 py-1 hover:bg-[#eaf5fa] transition border-b border-gray-300"
              onclick="viewPdfInApp('https://example.com/sample.pdf')"
            >
              View Html
            </button>
            <a
              href="https://example.com/sample.pdf"
              download="receipt.pdf"
              class="text-gray-700 font-semibold text-sm rounded-b-full px-5 py-1 hover:bg-[#eaf5fa] transition text-center"
              onclick="closePopup(this)"
            >
              Print/Save PDF XPs
            </a>
          </div>
        </div>
      </section>

      <!-- Receipt 2 -->
      <section class="bg-white rounded-md shadow-sm p-4 relative max-w-full mx-auto">
        <p class="text-gray-500 text-sm mb-1">Receipt Number</p>
        <p class="font-semibold text-gray-900 mb-3">PU/02-12-24/Online/38098</p>

        <p class="text-gray-500 text-sm mb-1">Site</p>
        <p class="font-semibold text-gray-900 mb-4">
          FCE-Faculty of Computer Science and Engineering
        </p>

        <div class="bg-[#f5f7f8] rounded-md flex text-center text-gray-600 text-sm font-normal">
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">2024-12-02</p>
            <p>Payment Date</p>
          </div>
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">Online</p>
            <p>Payment Mode</p>
          </div>
          <div class="flex-1 p-3">
            <p class="font-semibold text-[#f68b1e] text-base">17094.00</p>
            <p>Amount</p>
          </div>
        </div>

        <button
          type="button"
          class="mt-2 text-[#1d6ea7] text-sm font-normal flex items-center gap-1"
          aria-expanded="false"
        >
          More <i class="fas fa-chevron-down text-xs"></i>
        </button>

        <div class="pt-4 flex justify-end bg-[#EFF5F4] relative">
          <button
            type="button"
            class="text-[#4a6f85] font-semibold text-xs border border-[#a4cbd8] rounded-full px-4 py-2 hover:bg-[#eaf5fa] transition"
            onclick="togglePopup(this)"
          >
            Download
          </button>
          <!-- Popup -->
          <div
            class="absolute bg-white rounded-md shadow-md p-3 flex flex-col z-20 hidden min-w-[140px]"
            style="top:1rem; right:-0.25rem;"
          >
            <button
              type="button"
              class="text-gray-700 font-semibold text-sm rounded-t-full px-5 py-1 hover:bg-[#eaf5fa] transition border-b border-gray-300"
              onclick="viewPdfInApp('https://example.com/sample.pdf')"
            >
              View Html
            </button>
            <a
              href="https://example.com/sample.pdf"
              download="receipt.pdf"
              class="text-gray-700 font-semibold text-sm rounded-b-full px-5 py-1 hover:bg-[#eaf5fa] transition text-center"
              onclick="closePopup(this)"
            >
              Print/Save PDF XPs
            </a>
          </div>
        </div>
      </section>

      <!-- Receipt 3 -->
      <section class="bg-white rounded-md shadow-sm p-4 relative max-w-full mx-auto">
        <p class="text-gray-500 text-sm mb-1">Receipt Number</p>
        <p class="font-semibold text-gray-900 mb-3">PU/02-12-24/Online/38097</p>

        <p class="text-gray-500 text-sm mb-1">Site</p>
        <p class="font-semibold text-gray-900 mb-4">
          FCE-Faculty of Computer Science and Engineering
        </p>

        <div class="bg-[#f5f7f8] rounded-md flex text-center text-gray-600 text-sm font-normal">
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">2024-12-02</p>
            <p>Payment Date</p>
          </div>
          <div class="flex-1 p-3 border-r border-[#d9dfe2]">
            <p class="font-semibold text-gray-700 text-base">Online</p>
            <p>Payment Mode</p>
          </div>
          <div class="flex-1 p-3">
            <p class="font-semibold text-[#f68b1e] text-base">50.00</p>
            <p>Amount</p>
          </div>
        </div>

        <button
          type="button"
          class="mt-2 text-[#1d6ea7] text-sm font-normal flex items-center gap-1"
          aria-expanded="false"
        >
          More <i class="fas fa-chevron-down text-xs"></i>
        </button>

        <div class="pt-4 flex justify-end bg-[#EFF5F4] relative">
          <button
            type="button"
            class="text-[#4a6f85] font-semibold text-xs border border-[#a4cbd8] rounded-full px-4 py-2 hover:bg-[#eaf5fa] transition"
            onclick="togglePopup(this)"
          >
            Download
          </button>
          <!-- Popup -->
          <div
            class="absolute bg-white rounded-md shadow-md p-3 flex flex-col z-20 hidden min-w-[140px]"
            style="top:1rem; right:-0.25rem;"
          >
            <button
              type="button"
              class="text-gray-700 font-semibold text-sm rounded-t-full px-5 py-1 hover:bg-[#eaf5fa] transition border-b border-gray-300"
              onclick="viewPdfInApp('https://example.com/sample.pdf')"
            >
              View Html
            </button>
            <a
              href="https://example.com/sample.pdf"
              download="receipt.pdf"
              class="text-gray-700 font-semibold text-sm rounded-b-full px-5 py-1 hover:bg-[#eaf5fa] transition text-center"
              onclick="closePopup(this)"
            >
              Print/Save PDF XPs
            </a>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- PDF Viewer Page -->
  <div id="pdfViewerPage" class="hidden fixed inset-0 bg-white flex flex-col">
    <header class="flex items-center justify-between bg-gradient-to-r from-[#f44336] to-[#f63f4f] px-4 py-3">
      <button
        aria-label="Close"
        class="text-white text-2xl leading-none"
        onclick="closePdfViewer()"
      >
        <i class="fas fa-times"></i>
      </button>
      <h1 class="text-white text-lg font-normal text-center flex-grow">PDF Viewer</h1>
      <div class="flex items-center gap-4">
        <button aria-label="Search" class="text-white text-xl">
          <i class="fas fa-search"></i>
        </button>
        <button aria-label="More options" class="text-white text-xl">
          <i class="fas fa-ellipsis-v"></i>
        </button>
      </div>
    </header>
    <iframe
      id="pdfFrame"
      src=""
      class="flex-grow w-full"
      style="border:none;"
      title="PDF Viewer"
    ></iframe>
  </div>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 hidden z-10 bg-black bg-opacity-25"></div>

  <!-- Fixed bottom right icon -->
  <button
    aria-label="Search"
    class="fixed bottom-4 right-4 w-14 h-14 bg-[#7fb7e8] rounded-full flex items-center justify-center shadow-lg text-white text-xl z-30"
  >
    <i class="fas fa-search"></i>
  </button>

  <script>
    function togglePopup(button) {
      // Close any other open popups
      document.querySelectorAll('div[aria-hidden="false"]').forEach(popup => {
        popup.classList.add('hidden');
        popup.setAttribute('aria-hidden', 'true');
      });
      // Find the popup div sibling
      const popup = button.nextElementSibling;
      const overlay = document.getElementById('overlay');
      if (popup) {
        const isHidden = popup.classList.contains('hidden');
        if (isHidden) {
          popup.classList.remove('hidden');
          popup.setAttribute('aria-hidden', 'false');
          overlay.classList.remove('hidden');
        } else {
          popup.classList.add('hidden');
          popup.setAttribute('aria-hidden', 'true');
          overlay.classList.add('hidden');
        }
      }
    }
    function closePopup(closeBtn) {
      const popup = closeBtn.parentElement;
      const overlay = document.getElementById('overlay');
      if (popup) {
        popup.classList.add('hidden');
        popup.setAttribute('aria-hidden', 'true');
        overlay.classList.add('hidden');
      }
    }
    // Close popup if clicked outside popup or on overlay
    document.addEventListener('click', function(event) {
      const popups = document.querySelectorAll('div[aria-hidden="false"]');
      const overlay = document.getElementById('overlay');
      popups.forEach(popup => {
        if (!popup.contains(event.target) && !popup.previousElementSibling.contains(event.target)) {
          popup.classList.add('hidden');
          popup.setAttribute('aria-hidden', 'true');
          overlay.classList.add('hidden');
        }
      });
    });
    // Also close popup if overlay is clicked
    document.getElementById('overlay').addEventListener('click', () => {
      document.querySelectorAll('div[aria-hidden="false"]').forEach(popup => {
        popup.classList.add('hidden');
        popup.setAttribute('aria-hidden', 'true');
      });
      document.getElementById('overlay').classList.add('hidden');
    });

    // Open PDF in app browser (new tab replaced with in-app viewer)
    function viewPdfInApp(url) {
      document.getElementById('mainPage').classList.add('hidden');
      document.getElementById('pdfViewerPage').classList.remove('hidden');
      document.getElementById('pdfFrame').src = url;
      closeAllPopups();
    }

    function closePdfViewer() {
      document.getElementById('pdfViewerPage').classList.add('hidden');
      document.getElementById('mainPage').classList.remove('hidden');
      document.getElementById('pdfFrame').src = '';
    }

    function closeAllPopups() {
      document.querySelectorAll('div[aria-hidden="false"]').forEach(popup => {
        popup.classList.add('hidden');
        popup.setAttribute('aria-hidden', 'true');
      });
      document.getElementById('overlay').classList.add('hidden');
    }
  </script>
</body>
</html>
